<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title></title>
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/consult.css" id="theme" />
    <link rel="stylesheet" href="plugin/highlight/zenburn.css" />
	<link rel="stylesheet" href="css/layout.css" />
	<link rel="stylesheet" href="plugin/customcontrols/style.css">



    <script defer src="dist/fontawesome/all.min.js"></script>

	<script type="text/javascript">
		var forgetPop = true;
		function onPopState(event) {
			if(forgetPop){
				forgetPop = false;
			} else {
				parent.postMessage(event.target.location.href, "app://obsidian.md");
			}
        }
		window.onpopstate = onPopState;
		window.onmessage = event => {
			if(event.data == "reload"){
				window.document.location.reload();
			}
			forgetPop = true;
		}

		function fitElements(){
			const itemsToFit = document.getElementsByClassName('fitText');
			for (const item in itemsToFit) {
				if (Object.hasOwnProperty.call(itemsToFit, item)) {
					var element = itemsToFit[item];
					fitElement(element,1, 1000);
					element.classList.remove('fitText');
				}
			}
		}

		function fitElement(element, start, end){

			let size = (end + start) / 2;
			element.style.fontSize = `${size}px`;

			if(Math.abs(start - end) < 1){
				while(element.scrollHeight > element.offsetHeight){
					size--;
					element.style.fontSize = `${size}px`;
				}
				return;
			}

			if(element.scrollHeight > element.offsetHeight){
				fitElement(element, start, size);
			} else {
				fitElement(element, size, end);
			}		
		}


		document.onreadystatechange = () => {
			fitElements();
			if (document.readyState === 'complete') {
				if (window.location.href.indexOf("?export") != -1){
					parent.postMessage(event.target.location.href, "app://obsidian.md");
				}
				if (window.location.href.indexOf("print-pdf") != -1){
					let stateCheck = setInterval(() => {
						clearInterval(stateCheck);
						window.print();
					}, 250);
				}
			}
	};


        </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

# Constraint-Based Task Scheduler

## åŸºæ–¼ç´„æŸæ¢ä»¶çš„ä»»å‹™æ’ç¨‹ç³»çµ±è¨­è¨ˆèˆ‡å¯¦ç¾
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## å•é¡Œå®šç¾© (1/3)

### å¹³è¡Œé‹ç®—ç³»çµ±ä¸­çš„æ ¸å¿ƒæŒ‘æˆ°

éš¨è‘—å¤šæ ¸å¿ƒè™•ç†å™¨å’Œåˆ†æ•£å¼é‹ç®—ç³»çµ±çš„å¿«é€Ÿç™¼å±•ï¼Œå¹³è¡Œé‹ç®—å·²æˆç‚ºæå‡ç³»çµ±æ•ˆèƒ½çš„é—œéµæŠ€è¡“ã€‚åœ¨ç¾ä»£é‹ç®—å¹³å°ä¸­ï¼Œè¤‡é›œçš„æ‡‰ç”¨ç¨‹å¼é€šå¸¸ç”±å¤šå€‹ç›¸äº’ä¾è³´çš„è¨ˆç®—ä»»å‹™çµ„æˆï¼Œé€™äº›ä»»å‹™å¿…é ˆåœ¨æ»¿è¶³åŸ·è¡Œé †åºç´„æŸçš„å‰æä¸‹ï¼Œæœ‰æ•ˆåœ°åˆ†é…åˆ°å¯ç”¨çš„è¨ˆç®—è³‡æºä¸ŠåŸ·è¡Œã€‚

**å‚³çµ±å·¥ä½œåŒ¹é…èˆ‡æ’ç¨‹å•é¡Œ**ä¸»è¦è™•ç†å…©å€‹æ ¸å¿ƒè­°é¡Œï¼š

- **å·¥ä½œæ’ç¨‹**ï¼šæ±ºå®šå„å€‹å·¥ä½œçš„åŸ·è¡Œå…ˆå¾Œé †åº
- **å·¥ä½œåŒ¹é…**ï¼šåˆ†æ´¾å·¥ä½œçµ¦é©ç•¶çš„è™•ç†å–®å…ƒåŸ·è¡Œ
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## å•é¡Œå®šç¾© (2/3)

### æœ¬ç ”ç©¶çš„å•é¡Œæ“´å±•ï¼šå‹•æ…‹è«‹æ±‚ç’°å¢ƒ

**é—œéµå·®ç•°**ï¼šå‚³çµ±æ’ç¨‹å‡è¨­æ‰€æœ‰ä»»å‹™åœ¨é–‹å§‹æ™‚å·²çŸ¥ï¼Œè€Œæœ¬ç³»çµ±é¢å°çš„æ˜¯**å‹•æ…‹ä»»å‹™è«‹æ±‚ç’°å¢ƒ**ã€‚

### ç³»çµ±è¼¸å…¥å®šç¾©

**éœæ…‹è¼¸å…¥**ï¼š

- **ä»»å‹™é›†åˆ**ï¼šT = {tâ‚, tâ‚‚, ..., tâ‚™}ï¼Œæ¯å€‹ä»»å‹™å…·æœ‰å·²çŸ¥çš„åŸ·è¡Œæ™‚é–“
- **ä¾è³´é—œä¿‚çŸ©é™£**ï¼šD âˆˆ {0,1}â¿Ë£â¿ï¼Œå®šç¾©ä»»å‹™é–“çš„å‰ç½®ç´„æŸé—œä¿‚
- **ç³»çµ±è³‡æºç´„æŸ**ï¼šè™•ç†å™¨æ•¸é‡ã€è¨˜æ†¶é«”é™åˆ¶ç­‰ç¡¬é«”åƒæ•¸

**å‹•æ…‹è¼¸å…¥**ï¼š

- **ä»»å‹™è«‹æ±‚æµ**ï¼šreq(táµ¢, timestamp)ï¼Œä»»å‹™è«‹æ±‚ä»¥ä¸å¯é æ¸¬çš„æ™‚åºåˆ°é”
- **ç³»çµ±ç‹€æ…‹æŸ¥è©¢**ï¼šæ¯å€‹æ™‚åˆ»ç³»çµ±éœ€å›æ‡‰ç•¶å‰å¯åŸ·è¡Œä»»å‹™çš„ç‹€æ…‹
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## å•é¡Œå®šç¾© (3/3)

### å•é¡Œæ±‚è§£çš„æ ¸å¿ƒæ©Ÿåˆ¶

**æ™‚é–“é›¢æ•£åŒ–è™•ç†**ï¼š

- **è«‹æ±‚è™•ç†æ™‚åˆ»**ï¼šç³»çµ±æ¥æ”¶æ–°çš„ä»»å‹™è«‹æ±‚ï¼Œæ›´æ–°å…§éƒ¨ç‹€æ…‹
- **èª¿åº¦æ±ºç­–æ™‚åˆ»**ï¼šåŸºæ–¼ç•¶å‰ä¾è³´æ»¿è¶³æƒ…æ³ï¼Œæ±ºå®šå“ªäº›ä»»å‹™å¯ä»¥é–‹å§‹åŸ·è¡Œ
- **ç‹€æ…‹æ›´æ–°æ™‚åˆ»**ï¼šè¿½è¹¤æ­£åœ¨åŸ·è¡Œä»»å‹™çš„é€²åº¦ï¼Œè™•ç†ä»»å‹™å®Œæˆäº‹ä»¶

**èª¿åº¦æ±ºç­–é‚è¼¯**ï¼š ç³»çµ±å¿…é ˆåœ¨æ¯å€‹æ±ºç­–æ™‚åˆ»è§£æ±ºä»¥ä¸‹å•é¡Œï¼š

1. **ä¾è³´ç´„æŸæª¢æŸ¥**ï¼šâˆ€(táµ¢, tâ±¼) âˆˆ Dï¼Œåªæœ‰ç•¶ táµ¢ å®Œæˆå¾Œ tâ±¼ æ‰èƒ½åŸ·è¡Œ
2. **è³‡æºå¯ç”¨æ€§è©•ä¼°**ï¼šåœ¨æœ‰é™è™•ç†è³‡æºä¸‹é¸æ“‡åŸ·è¡Œä»»å‹™çš„å­é›†
3. **å„ªå…ˆç´šæ±ºç­–**ï¼šç•¶å¤šå€‹ä»»å‹™åŒæ™‚æ»¿è¶³åŸ·è¡Œæ¢ä»¶æ™‚çš„é¸æ“‡ç­–ç•¥
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## å•é¡Œåˆ†æ (1/2)

### ç³»çµ±ç´šèª¿åº¦å™¨ FSM
- SYS_IDLE : ç‹€æ…‹å€¼: 0
	> ready = 1<br></br>æ¥æ”¶æ–°ä»»å‹™è«‹æ±‚<br></br>è¨­ç½®all_doneç‹€æ…‹ 
- SYS_SCHEDULE : ç‹€æ…‹å€¼: 1
	> é¸æ“‡next_taskï¼Œè¨­ç½®task_status = TASK_RUNNINGï¼Œè¼‰å…¥task_counter
- SYS_EXECUTE : ç‹€æ…‹å€¼: 2
	> task_counteréæ¸›ï¼Œä»»å‹™åŸ·è¡Œä¸­
- SYS_COMPLETE : ç‹€æ…‹å€¼: 3
>	task_status = TASK_DONEï¼Œtask_completed[id] = 1ï¼Œtask_done = 1
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<img src="Pasted image 20250609100502.png" alt="" style="object-fit: scale-down">
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## å•é¡Œåˆ†æ (2/2)

### ä»»å‹™ç´šç‹€æ…‹ç®¡ç† FSM
- TASK_NONE : ç‹€æ…‹å€¼: 0
    > DEFAULT_STATUS = TASK_NONE<br></br>æœªè«‹æ±‚ç‹€æ…‹
- TASK_WAITING : ç‹€æ…‹å€¼: 1
    > ç­‰å¾…ä¾è³´ä»»å‹™å®Œæˆ<br></br>deps_satisfiedæª¢æŸ¥<br></br>å¯èƒ½é•·æœŸåœç•™æ­¤ç‹€æ…‹
- TASK_RUNNING : ç‹€æ…‹å€¼: 2
    > åŸ·è¡Œä¸­ç‹€æ…‹<br></br>ç”±ç³»çµ±ç‹€æ…‹æ©Ÿæ§åˆ¶æ™‚é–“<br></br>current_taskæŒ‡å‘æ­¤ä»»å‹™
- TASK_DONE : ç‹€æ…‹å€¼: 3
	>	å®Œæˆç‹€æ…‹<br></br>task_completedä½å…ƒè¨­ç½®ç‚º1<br></br>è§£é™¤å…¶ä»–ä»»å‹™ä¾è³´
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<img src="Pasted image 20250609100525.png" alt="" style="object-fit: scale-down">
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## å¤šä»»å‹™ç³»çµ±çš„å¯¦éš›åŸ·è¡Œåˆ†æ (1/2)

### ä»»å‹™ä¾è³´åœ–ï¼ˆDAGï¼‰


<div class="mermaid">
graph TD
    A[A: ç„¡ä¾è³´<br></br>åŸ·è¡Œæ™‚é–“: 2é€±æœŸ] 
    B[B: ç„¡ä¾è³´<br></br>åŸ·è¡Œæ™‚é–“: 3é€±æœŸ]
    A --> C[C: ä¾è³´A<br></br>åŸ·è¡Œæ™‚é–“: 4é€±æœŸ]
    B --> D[D: ä¾è³´B,C<br></br>åŸ·è¡Œæ™‚é–“: 2é€±æœŸ]
    C --> D
    C --> E[E: ä¾è³´C<br></br>åŸ·è¡Œæ™‚é–“: 3é€±æœŸ]
    
    style A fill:#e1f5fe
    style B fill:#e1f5fe
    style C fill:#fff3e0
    style D fill:#ffebee
    style E fill:#f3e5f5

</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## å¤šä»»å‹™ç³»çµ±çš„å¯¦éš›åŸ·è¡Œåˆ†æ (2/2)

### å‹•æ…‹åŸ·è¡Œæ™‚åºè¿½è¹¤

**ä»»å‹™è«‹æ±‚åºåˆ—**ï¼šreq(C) â†’ req(D) â†’ req(A) â†’ req(B) â†’ req(E)

| æ™‚åˆ»  | äº‹ä»¶             | Aç‹€æ…‹     | Bç‹€æ…‹     | Cç‹€æ…‹     | Dç‹€æ…‹     | Eç‹€æ…‹  | ç³»çµ±ç‹€æ…‹         | current_task | èªªæ˜                         |
| --- | -------------- | ------- | ------- | ------- | ------- | ---- | ------------ | ------------ | -------------------------- |
| T0  | ç³»çµ±å•Ÿå‹•           | NONE    | NONE    | NONE    | NONE    | NONE | SYS_IDLE     | -            | åˆå§‹ç‹€æ…‹ï¼Œæ‰€æœ‰ä»»å‹™æœªè«‹æ±‚               |
| T1  | req(C)         | NONE    | NONE    | WAITING | NONE    | NONE | SYS_IDLE     | -            | Cè«‹æ±‚ä½†ä¾è³´Aæœªæ»¿è¶³ï¼Œç„¡å¯åŸ·è¡Œä»»å‹™          |
| T2  | req(D)         | NONE    | NONE    | WAITING | WAITING | NONE | SYS_IDLE     | -            | Dè«‹æ±‚ä½†ä¾è³´B,Cæœªæ»¿è¶³               |
| T3  | req(A)         | WAITING | NONE    | WAITING | WAITING | NONE | SYS_SCHEDULE | -            | Aç„¡ä¾è³´ï¼Œhas_executable_task=1 |
| T4  | Aé–‹å§‹åŸ·è¡Œ          | RUNNING | NONE    | WAITING | WAITING | NONE | SYS_EXECUTE  | A            | AåŸ·è¡Œä¸­ï¼ˆtask_counter=2ï¼‰       |
| T5  | AåŸ·è¡Œä¸­           | RUNNING | NONE    | WAITING | WAITING | NONE | SYS_EXECUTE  | A            | AåŸ·è¡Œä¸­ï¼ˆtask_counter=1ï¼‰       |
| T6  | Aå®Œæˆ            | DONE    | NONE    | WAITING | WAITING | NONE | SYS_COMPLETE | A            | Aå®Œæˆï¼Œdeps_satisfied_Cè§¸ç™¼     |
| T7  | req(B) + Cæº–å‚™åŸ·è¡Œ | DONE    | WAITING | RUNNING | WAITING | NONE | SYS_EXECUTE  | C            | Cä¾è³´Aå·²æ»¿è¶³ï¼Œé–‹å§‹åŸ·è¡Œ               |
| T8  | CåŸ·è¡Œä¸­           | DONE    | WAITING | RUNNING | WAITING | NONE | SYS_EXECUTE  | C            | CåŸ·è¡Œä¸­ï¼ˆtask_counter=3ï¼‰       |
| T9  | CåŸ·è¡Œä¸­           | DONE    | WAITING | RUNNING | WAITING | NONE | SYS_EXECUTE  | C            | CåŸ·è¡Œä¸­ï¼ˆtask_counter=2ï¼‰       |
| T10 | CåŸ·è¡Œä¸­           | DONE    | WAITING | RUNNING | WAITING | NONE | SYS_EXECUTE  | C            | CåŸ·è¡Œä¸­ï¼ˆtask_counter=1ï¼‰       |
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

| æ™‚åˆ»  | äº‹ä»¶             | Aç‹€æ…‹     | Bç‹€æ…‹     | Cç‹€æ…‹     | Dç‹€æ…‹     | Eç‹€æ…‹  | ç³»çµ±ç‹€æ…‹         | current_task | èªªæ˜                         |
| --- | -------------- | ------- | ------- | ------- | ------- | ---- | ------------ | ------------ | -------------------------- |
| T11 | Cå®Œæˆ + Bæº–å‚™åŸ·è¡Œ  | DONE | RUNNING | DONE | WAITING | NONE    | SYS_EXECUTE  | B   | Cå®Œæˆï¼ŒBé–‹å§‹åŸ·è¡Œ            |
| T12 | BåŸ·è¡Œä¸­         | DONE | RUNNING | DONE | WAITING | NONE    | SYS_EXECUTE  | B   | BåŸ·è¡Œä¸­ï¼ˆtask_counter=2ï¼‰ |
| T13 | BåŸ·è¡Œä¸­         | DONE | RUNNING | DONE | WAITING | NONE    | SYS_EXECUTE  | B   | BåŸ·è¡Œä¸­ï¼ˆtask_counter=1ï¼‰ |
| T14 | Bå®Œæˆ + Dæº–å‚™åŸ·è¡Œ  | DONE | DONE    | DONE | RUNNING | NONE    | SYS_EXECUTE  | D   | Bå®Œæˆï¼ŒDä¾è³´B,Cå·²æ»¿è¶³        |
| T15 | DåŸ·è¡Œä¸­         | DONE | DONE    | DONE | RUNNING | NONE    | SYS_EXECUTE  | D   | DåŸ·è¡Œä¸­ï¼ˆtask_counter=1ï¼‰ |
| T16 | Då®Œæˆ + req(E) | DONE | DONE    | DONE | DONE    | WAITING | SYS_COMPLETE | D   | Då®Œæˆï¼ŒEè«‹æ±‚              |
| T17 | Eæº–å‚™åŸ·è¡Œ        | DONE | DONE    | DONE | DONE    | RUNNING | SYS_EXECUTE  | E   | Eä¾è³´Cå·²æ»¿è¶³ï¼Œç«‹å³åŸ·è¡Œ         |
| T18 | EåŸ·è¡Œä¸­         | DONE | DONE    | DONE | DONE    | RUNNING | SYS_EXECUTE  | E   | EåŸ·è¡Œä¸­ï¼ˆtask_counter=2ï¼‰ |
| T19 | EåŸ·è¡Œä¸­         | DONE | DONE    | DONE | DONE    | RUNNING | SYS_EXECUTE  | E   | EåŸ·è¡Œä¸­ï¼ˆtask_counter=1ï¼‰ |
| T20 | Eå®Œæˆ          | DONE | DONE    | DONE | DONE    | DONE    | SYS_IDLE     | -   | Eå®Œæˆ                  |
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬ä¸€ç‰ˆå¯¦ç¾ (1/6)

### ç³»çµ±æ¶æ§‹æ¦‚è¦½


<div class="mermaid">
graph TB
    subgraph "task_dependency_processor.v"
        A[ä»»å‹™è«‹æ±‚è¼¸å…¥] --> B[ç‹€æ…‹æ©Ÿæ§åˆ¶å™¨]
        B --> C[ä»»å‹™ç‹€æ…‹ç®¡ç†]
        C --> D[åŸ·è¡Œæ™‚é–“è¨ˆæ•¸å™¨]
        B --> E[ä¾è³´æª¢æŸ¥å™¨å‘¼å«]
    end
    
    subgraph "dependency_checker.v"
        E --> F[ç¡¬ç·¨ç¢¼ä¾è³´é‚è¼¯]
        F --> G[readyä¿¡è™Ÿè¼¸å‡º]
    end
    
    subgraph "task_definitions.v"
        H[ä»»å‹™å¸¸æ•¸å®šç¾©]
        I[ç‹€æ…‹å¸¸æ•¸å®šç¾©]
    end
    
    G --> B
    H --> F
    I --> C

</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬ä¸€ç‰ˆå¯¦ç¾ (2/6)

### æ ¸å¿ƒç‹€æ…‹æ©Ÿå¯¦ç¾

```verilog
// ç³»çµ±ç‹€æ…‹æ©Ÿ
localparam IDLE = 2'b00;      // ç­‰å¾…ä»»å‹™è«‹æ±‚
localparam SCHEDULE = 2'b01;  // æ’ç¨‹æ±ºç­–
localparam EXECUTE = 2'b10;   // ä»»å‹™åŸ·è¡Œ
localparam COMPLETE = 2'b11;  // ä»»å‹™å®Œæˆ

// ä»»å‹™ç‹€æ…‹å®šç¾©
`define TASK_NONE    2'b00     // æœªè«‹æ±‚
`define TASK_WAITING 2'b01     // ç­‰å¾…ä¾è³´
`define TASK_RUNNING 2'b10     // åŸ·è¡Œä¸­
`define TASK_DONE    2'b11     // å·²å®Œæˆ
```

é€™æ®µç¨‹å¼ç¢¼å®šç¾©äº†èª¿åº¦å™¨çš„4å€‹ä¸»è¦ç‹€æ…‹å’Œæ¯å€‹ä»»å‹™çš„4ç¨®ç”Ÿå‘½é€±æœŸç‹€æ…‹ï¼Œä½¿ç”¨2ä½å…ƒç·¨ç¢¼ç¯€çœç¡¬é«”è³‡æºã€‚
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬ä¸€ç‰ˆå¯¦ç¾ (3/6)

### ç‹€æ…‹è½‰æ›é‚è¼¯çš„ Verilog å¯¦ç¾

```verilog
always @(*) begin
    next_state = state;
    
    case (state)
        IDLE: begin
            if (task_req) 
                next_state = SCHEDULE;
        end
        
        SCHEDULE: begin
            if (has_executable_task) begin
                next_state = EXECUTE;
            end else begin
                next_state = IDLE;  // é—œéµå›æœ”é‚è¼¯
            end
        end
        
        EXECUTE: begin
            if (task_counter == 4'd1) 
                next_state = COMPLETE;
        end
        
        COMPLETE: begin
            if (|task_requested)
                next_state = SCHEDULE;  // æ‰¹æ¬¡è™•ç†å¾ªç’°
            else
                next_state = IDLE;
        end
    endcase
end
```

é€™å€‹çµ„åˆé‚è¼¯å€å¡Šå¯¦ç¾äº†å‰é¢FSMåœ–ä¸­çš„æ‰€æœ‰ç‹€æ…‹è½‰æ›ï¼ŒåŒ…å«é—œéµçš„å›æœ”æ©Ÿåˆ¶å’Œæ‰¹æ¬¡è™•ç†é‚è¼¯ã€‚
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬ä¸€ç‰ˆå¯¦ç¾ (4/6)

### ä¾è³´æª¢æŸ¥å™¨çš„å…·é«”å¯¦ç¾

```verilog
module dependency_checker (
    input wire [6:0] task_completed,
    input wire [2:0] task_id,
    output wire is_ready
);
    reg ready;
    
    always @(*) begin
        case (task_id)
            `TASK_A: ready = 1'b1;                           // Aç„¡å‰ç½®ä»»å‹™
            `TASK_B: ready = task_completed[`TASK_A];        // Bä¾è³´A
            `TASK_C: ready = task_completed[`TASK_A];        // Cä¾è³´A
            `TASK_D: ready = task_completed[`TASK_B] && 
                            task_completed[`TASK_C];         // Dä¾è³´Bå’ŒC
            `TASK_E: ready = task_completed[`TASK_C];        // Eä¾è³´C
            `TASK_F: ready = task_completed[`TASK_D];        // Fä¾è³´D
            `TASK_G: ready = task_completed[`TASK_E] && 
                            task_completed[`TASK_F];         // Gä¾è³´Eå’ŒF
            default: ready = 1'b0;
        endcase
    end
    
    assign is_ready = ready;
endmodule
```

é€™å€‹æ¨¡çµ„ä½¿ç”¨ case èªå¥å°‡æ¯å€‹ä»»å‹™çš„ä¾è³´é—œä¿‚ç›´æ¥ç·¨ç¢¼åœ¨ç¨‹å¼ä¸­ï¼Œé€éä½å‘é‡æª¢æŸ¥ä¾è³´æ˜¯å¦æ»¿è¶³ã€‚
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬ä¸€ç‰ˆå¯¦ç¾ (5/6)

### ä»»å‹™ç‹€æ…‹ç®¡ç†çš„å¯¦ç¾ç´°ç¯€

```verilog
reg [1:0] task_status [0:6];   // 7å€‹ä»»å‹™çš„ç‹€æ…‹é™£åˆ—
reg [6:0] task_completed;      // å®Œæˆç‹€æ…‹ä½å‘é‡
reg [6:0] task_requested;      // è«‹æ±‚ç‹€æ…‹ä½å‘é‡
reg [6:0] tasks_ever_requested; // æ›¾è«‹æ±‚éçš„ä»»å‹™è¿½è¹¤
```

### ç‹€æ…‹æ›´æ–°é‚è¼¯

```verilog
always @(posedge clk or negedge rst_n) begin
    case (state)
        IDLE: begin
            if (task_req) begin
                task_requested[task_id] <= 1'b1;
                tasks_ever_requested[task_id] <= 1'b1;
                task_status[task_id] <= `TASK_WAITING;
            end
        end
        
        SCHEDULE: begin
            if (has_executable_task) begin
                current_task <= next_task;
                task_status[next_task] <= `TASK_RUNNING;
                task_counter <= task_time_lookup[next_task];
            end
        end
        
        COMPLETE: begin
            task_completed[current_task] <= 1'b1;
            task_status[current_task] <= `TASK_DONE;
            task_requested[current_task] <= 1'b0;
        end
    endcase
end
```
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬ä¸€ç‰ˆå¯¦ç¾ (6/6)

### ä»»å‹™é¸æ“‡çš„å„ªå…ˆç´šç·¨ç¢¼å™¨

```verilog
assign task_ready_to_execute[0] = task_requested[0] && 
                                  (task_status[0] == `TASK_WAITING) && 1'b1;
assign task_ready_to_execute[1] = task_requested[1] && 
                                  (task_status[1] == `TASK_WAITING) && 
                                  task_completed[0];
// ... å…¶ä»–ä»»å‹™çš„æª¢æ¸¬é‚è¼¯
```

### å„ªå…ˆç´šç·¨ç¢¼å™¨å¯¦ç¾

```verilog
always @(*) begin
    // å„ªå…ˆæ©ç¢¼ï¼šä½ç·¨è™Ÿä»»å‹™å„ªå…ˆ
    masked_ready[0] = task_ready_to_execute[0];
    masked_ready[1] = task_ready_to_execute[1] & ~task_ready_to_execute[0];
    masked_ready[2] = task_ready_to_execute[2] & ~task_ready_to_execute[1] 
                     & ~task_ready_to_execute[0];
    // ...
    
    // ç·¨ç¢¼é‚è¼¯ï¼šå°‡7ä½å…ƒå‘é‡ç·¨ç¢¼ç‚º3ä½å…ƒä»»å‹™ID
    encoded_task[0] = masked_ready[1] | masked_ready[3] | masked_ready[5];
    encoded_task[1] = masked_ready[2] | masked_ready[3] | masked_ready[6];
    encoded_task[2] = masked_ready[4] | masked_ready[5] | masked_ready[6];
    
    next_task = (|masked_ready) ? encoded_task : 3'd0;
end
```
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬ä¸€ç‰ˆå¯¦ç¾çš„ç³»çµ±ç‰¹æ€§

### æŠ€è¡“å„ªå‹¢

âœ… **ç¢ºå®šæ€§éŸ¿æ‡‰**ï¼šçµ„åˆé‚è¼¯çš„é›¶å»¶é²ä¾è³´æª¢æŸ¥  
âœ… **é«˜æ•ˆåŸ·è¡Œ**ï¼šå„ªå…ˆç´šç·¨ç¢¼å™¨çš„å¿«é€Ÿä»»å‹™é¸æ“‡  
âœ… **ç‹€æ…‹ä¸€è‡´æ€§**ï¼šåŒæ­¥æ™‚è„ˆçš„åŸå­ç‹€æ…‹æ›´æ–°  
âœ… **è³‡æºæ•ˆç‡**ï¼šç·Šæ¹Šçš„ç‹€æ…‹ç·¨ç¢¼å’Œä½å‘é‡æ“ä½œ

### è¨­è¨ˆé™åˆ¶

âŒ **ä»»å‹™æ•¸é‡å›ºå®š**ï¼šç¡¬ç·¨ç¢¼7å€‹ä»»å‹™  
âŒ **ä¾è³´é—œä¿‚å›ºå®š**ï¼šç„¡æ³•å‹•æ…‹èª¿æ•´ä¾è³´é—œä¿‚  
âŒ **åŸ·è¡Œæ™‚é–“å›ºå®š**ï¼šä»»å‹™æ™‚é–“ç·¨è­¯æ™‚ç¢ºå®š
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬äºŒç‰ˆå¯¦ç¾ (1/6)

### è¨­è¨ˆå‹•æ©Ÿï¼šè§£æ±ºç¬¬ä¸€ç‰ˆçš„æ ¸å¿ƒé™åˆ¶

ç¬¬ä¸€ç‰ˆçš„ç¡¬ç·¨ç¢¼ä¾è³´é—œä¿‚é™åˆ¶äº†ç³»çµ±çš„é€šç”¨æ€§ï¼š

```verilog
// ç¬¬ä¸€ç‰ˆï¼šä¾è³´é—œä¿‚å›ºåŒ–åœ¨ç¨‹å¼ä¸­
case (task_id)
    `TASK_A: ready = 1'b1;
    `TASK_B: ready = task_completed[`TASK_A];        
    `TASK_C: ready = task_completed[`TASK_A];        
    // ç„¡æ³•å‹•æ…‹èª¿æ•´...
endcase
```

**ç¬¬äºŒç‰ˆçš„æ ¸å¿ƒæ”¹é€²**ï¼šå°‡ä¾è³´é—œä¿‚å¾ç¡¬é«”é‚è¼¯ä¸­åˆ†é›¢ï¼Œä½¿ç”¨**å‹•æ…‹ä¾è³´çŸ©é™£**ä½œç‚ºè¼¸å…¥åƒæ•¸ã€‚
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬äºŒç‰ˆå¯¦ç¾ (2/6)

### 49ä½å…ƒä¾è³´çŸ©é™£ç·¨ç¢¼ç­–ç•¥

```
49ä½å…ƒä¾è³´çŸ©é™£ = 7å€‹ä»»å‹™ Ã— 7ä½å…ƒä¾è³´å‘é‡

çŸ©é™£åˆ†æ®µç·¨ç¢¼ï¼š
[6:0]   â†’ ä»»å‹™Açš„ä¾è³´å‘é‡ (Aä¾è³´å“ªäº›ä»»å‹™)
[13:7]  â†’ ä»»å‹™Bçš„ä¾è³´å‘é‡ (Bä¾è³´å“ªäº›ä»»å‹™)
[20:14] â†’ ä»»å‹™Cçš„ä¾è³´å‘é‡ (Cä¾è³´å“ªäº›ä»»å‹™)
[27:21] â†’ ä»»å‹™Dçš„ä¾è³´å‘é‡ (Dä¾è³´å“ªäº›ä»»å‹™)
[34:28] â†’ ä»»å‹™Eçš„ä¾è³´å‘é‡ (Eä¾è³´å“ªäº›ä»»å‹™)
[41:35] â†’ ä»»å‹™Fçš„ä¾è³´å‘é‡ (Fä¾è³´å“ªäº›ä»»å‹™)
[48:42] â†’ ä»»å‹™Gçš„ä¾è³´å‘é‡ (Gä¾è³´å“ªäº›ä»»å‹™)
```

**ç·¨ç¢¼ç¯„ä¾‹**ï¼šå¦‚æœä»»å‹™Dä¾è³´ä»»å‹™Bå’ŒCï¼Œå‰‡ `[27:21] = 7'b0000110`
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬äºŒç‰ˆå¯¦ç¾ (3/6)

### å‹•æ…‹ä¾è³´æª¢æŸ¥å™¨çš„å¯¦ç¾

```verilog
module dependency_checker (
    input wire [6:0] task_completed,
    input wire [2:0] task_id,
    input wire [48:0] dependency_matrix,  // æ–°å¢ï¼šå‹•æ…‹ä¾è³´é—œä¿‚çŸ©é™£
    output wire is_ready
);
    
    // è§£æä¾è³´é—œä¿‚çŸ©é™£
    wire [6:0] task_deps_0, task_deps_1, task_deps_2, task_deps_3;
    wire [6:0] task_deps_4, task_deps_5, task_deps_6;
    
    assign task_deps_0 = dependency_matrix[6:0];     // ä»»å‹™Açš„ä¾è³´
    assign task_deps_1 = dependency_matrix[13:7];    // ä»»å‹™Bçš„ä¾è³´
    assign task_deps_2 = dependency_matrix[20:14];   // ä»»å‹™Cçš„ä¾è³´
    assign task_deps_3 = dependency_matrix[27:21];   // ä»»å‹™Dçš„ä¾è³´
    assign task_deps_4 = dependency_matrix[34:28];   // ä»»å‹™Eçš„ä¾è³´
    assign task_deps_5 = dependency_matrix[41:35];   // ä»»å‹™Fçš„ä¾è³´
    assign task_deps_6 = dependency_matrix[48:42];   // ä»»å‹™Gçš„ä¾è³´
```
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬äºŒç‰ˆå¯¦ç¾ (4/6)

### ä¾è³´æª¢æŸ¥é‚è¼¯

```verilog
    // é¸æ“‡ç•¶å‰ä»»å‹™çš„ä¾è³´é—œä¿‚
    reg [6:0] current_deps;
    always @(*) begin
        case (task_id)
            3'd0: current_deps = task_deps_0;
            3'd1: current_deps = task_deps_1;
            3'd2: current_deps = task_deps_2;
            3'd3: current_deps = task_deps_3;
            3'd4: current_deps = task_deps_4;
            3'd5: current_deps = task_deps_5;
            3'd6: current_deps = task_deps_6;
            default: current_deps = 7'b0;
        endcase
    end
    
    // æª¢æŸ¥æ‰€æœ‰ä¾è³´æ˜¯å¦æ»¿è¶³
    wire deps_satisfied;
    assign deps_satisfied = ((task_completed & current_deps) == current_deps);
    
    assign is_ready = deps_satisfied;
    
endmodule
```

é€™å€‹æ¨¡çµ„é¦–å…ˆå°‡49ä½å…ƒçŸ©é™£åˆ†è§£ç‚º7å€‹7ä½å…ƒçš„ä¾è³´å‘é‡ï¼Œç„¶å¾Œæ ¹æ“šä»»å‹™IDé¸æ“‡å°æ‡‰çš„ä¾è³´å‘é‡é€²è¡Œæª¢æŸ¥ã€‚æ ¸å¿ƒçš„ä¾è³´æª¢æŸ¥ä½¿ç”¨ä½å‘é‡èˆ‡é‹ç®—ä¾†åˆ¤æ–·æ‰€æœ‰ä¾è³´æ˜¯å¦æ»¿è¶³ã€‚
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬äºŒç‰ˆå¯¦ç¾ (5/6)

### ä¸»è™•ç†å™¨çš„çŸ©é™£æ•´åˆ

```verilog
module task_dependency_processor (
    input wire clk,
    input wire rst_n,
    input wire task_req,
    input wire [2:0] task_id,
    input wire [48:0] dependency_matrix,  // æ–°å¢ï¼šå‹•æ…‹ä¾è³´é—œä¿‚çŸ©é™£
    output reg task_done,
    output reg [2:0] current_task,
    output reg all_done,
    output wire ready
);
    
    // ä¾è³´é—œä¿‚æª¢æŸ¥å™¨
    dependency_checker dep_check (
        .task_completed(task_completed),
        .task_id(next_task),
        .dependency_matrix(dependency_matrix),  // å‚³éå‹•æ…‹ä¾è³´é—œä¿‚
        .is_ready(task_is_ready)
    );
```

ä¸»è™•ç†å™¨ç¾åœ¨æ¥æ”¶ä¾è³´çŸ©é™£ä½œç‚ºè¼¸å…¥åƒæ•¸ï¼Œä¸¦å°‡å…¶å‚³éçµ¦ä¾è³´æª¢æŸ¥å™¨ï¼Œå¯¦ç¾å®Œå…¨çš„å‹•æ…‹é…ç½®ã€‚
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬äºŒç‰ˆå¯¦ç¾ (6/6)

### çŸ©é™£è§£æç”¨æ–¼ä»»å‹™å¯åŸ·è¡Œæ€§æª¢æŸ¥

```verilog
    // è§£æä¾è³´é—œä¿‚çŸ©é™£ç”¨æ–¼task_ready_to_executeè¨ˆç®—
    wire [6:0] deps_0, deps_1, deps_2, deps_3, deps_4, deps_5, deps_6;
    assign deps_0 = dependency_matrix[6:0];
    assign deps_1 = dependency_matrix[13:7];
    assign deps_2 = dependency_matrix[20:14];
    assign deps_3 = dependency_matrix[27:21];
    assign deps_4 = dependency_matrix[34:28];
    assign deps_5 = dependency_matrix[41:35];
    assign deps_6 = dependency_matrix[48:42];
    
    // æª¢æŸ¥å„ä»»å‹™çš„ä¾è³´æ˜¯å¦æ»¿è¶³
    wire deps_satisfied_0, deps_satisfied_1, deps_satisfied_2, deps_satisfied_3;
    wire deps_satisfied_4, deps_satisfied_5, deps_satisfied_6;
    
    assign deps_satisfied_0 = ((task_completed & deps_0) == deps_0);
    assign deps_satisfied_1 = ((task_completed & deps_1) == deps_1);
    assign deps_satisfied_2 = ((task_completed & deps_2) == deps_2);
    assign deps_satisfied_3 = ((task_completed & deps_3) == deps_3);
    assign deps_satisfied_4 = ((task_completed & deps_4) == deps_4);
    assign deps_satisfied_5 = ((task_completed & deps_5) == deps_5);
    assign deps_satisfied_6 = ((task_completed & deps_6) == deps_6);
    
    // æª¢æŸ¥æ¯å€‹ä»»å‹™æ˜¯å¦å¯åŸ·è¡Œï¼ˆåŸºæ–¼å‹•æ…‹ä¾è³´é—œä¿‚ï¼‰
    wire [6:0] task_ready_to_execute;
    
    assign task_ready_to_execute[0] = task_requested[0] && (task_status[0] == `TASK_WAITING) && deps_satisfied_0;
    assign task_ready_to_execute[1] = task_requested[1] && (task_status[1] == `TASK_WAITING) && deps_satisfied_1;
    assign task_ready_to_execute[2] = task_requested[2] && (task_status[2] == `TASK_WAITING) && deps_satisfied_2;
    // ... å…¶ä»–ä»»å‹™
```
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç¬¬äºŒç‰ˆçš„æ ¸å¿ƒå„ªå‹¢åˆ†æ

### æŠ€è¡“å‰µæ–°é»

**ğŸ¯ å®Œå…¨å¯é…ç½®çš„ä¾è³´é—œä¿‚**

- é‹è¡Œæ™‚å‹•æ…‹èª¿æ•´ä»»å‹™ä¾è³´ï¼Œç„¡éœ€é‡æ–°ç·¨è­¯ç¡¬é«”
- æ”¯æ´ä»»æ„DAGçµæ§‹çš„å·¥ä½œæµ

**âš¡ é«˜æ•ˆçš„ä½å‘é‡é‹ç®—**

- `(completed & deps) == deps` çš„O(1)ä¾è³´æª¢æŸ¥
- ä¸¦è¡Œè™•ç†æ‰€æœ‰ä»»å‹™çš„ä¾è³´ç‹€æ…‹

**ğŸ”§ ä¿æŒç¡¬é«”æ€§èƒ½å„ªå‹¢**

- ç´”çµ„åˆé‚è¼¯å¯¦ç¾ï¼Œé›¶å»¶é²éŸ¿æ‡‰
- ç·Šæ¹Šçš„49ä½å…ƒç·¨ç¢¼ï¼Œç¯€çœç¡¬é«”è³‡æº
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## èˆ‡ç¬¬ä¸€ç‰ˆçš„å°æ¯”

|ç‰¹æ€§|ç¬¬ä¸€ç‰ˆ|ç¬¬äºŒç‰ˆ|
|---|---|---|
|ä¾è³´é…ç½®|ç·¨è­¯æ™‚å›ºå®š|é‹è¡Œæ™‚å‹•æ…‹|
|é©ç”¨å ´æ™¯|ç‰¹å®šå·¥ä½œæµ|é€šç”¨å·¥ä½œæµ|
|ç¡¬é«”è³‡æº|è¼ƒå°‘|é©ä¸­|
|å¯ç¶­è­·æ€§|å›°é›£|å®¹æ˜“|
|æ“´å±•æ€§|ç„¡|é«˜|

### ç¬¬äºŒç‰ˆå¯¦ç¾çš„é‡è¦æ„ç¾©

âœ… **é€šç”¨æ€§çªç ´**ï¼šå¾ç‰¹å®šç”¨é€”åˆ°é€šç”¨ä»»å‹™èª¿åº¦å¹³å°  
âœ… **ç¶­è­·æ€§æå‡**ï¼šä¾è³´é—œä¿‚è®Šæ›´ä¸éœ€ä¿®æ”¹ç¡¬é«”è¨­è¨ˆ  
âœ… **é–‹ç™¼æ•ˆç‡**ï¼šæ”¯æ´å¿«é€ŸåŸå‹å’Œæ¸¬è©¦ä¸åŒå·¥ä½œæµ  
âœ… **ç”¢å“åŒ–å¯è¡Œ**ï¼šå–®ä¸€ç¡¬é«”è¨­è¨ˆæ”¯æ´å¤šç¨®æ‡‰ç”¨å ´æ™¯
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## æ‡‰ç”¨å ´æ™¯å±•ç¤º

### å‹•æ…‹å·¥ä½œæµé…ç½®ç¯„ä¾‹

**å ´æ™¯1ï¼šè»Ÿé«”ç·¨è­¯æµç¨‹**

```
dependency_matrix = 49'b0010000000100000001000000010000000100000001000000;
// Gâ†’A, Bâ†’âˆ…, Câ†’A, Dâ†’{B,C}, Eâ†’C, Fâ†’D, Gâ†’âˆ…
```

**å ´æ™¯2ï¼šè³‡æ–™è™•ç†ç®¡ç·š**

```
dependency_matrix = 49'b0000000000000010000001000000011000000100000001000000;
// ä¸åŒçš„ä¾è³´é—œä¿‚ï¼ŒåŒä¸€å¥—ç¡¬é«”
```

åªéœ€æ”¹è®Šè¼¸å…¥çš„ä¾è³´çŸ©é™£ï¼ŒåŒä¸€å¥—ç¡¬é«”å³å¯é©æ‡‰ä¸åŒçš„æ‡‰ç”¨éœ€æ±‚ã€‚
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç³»çµ±é©—è­‰ (1/7)

### Pattern é›™æ¨¡å¼æ¸¬è©¦è¨­è¨ˆ

ç³»çµ±æä¾›å…©ç¨®æ¸¬è©¦æ¨¡å¼ï¼Œæ»¿è¶³ä¸åŒçš„é©—è­‰éœ€æ±‚ï¼š

```verilog
// å…¨è¦†è“‹æ¸¬è©¦åƒæ•¸
parameter MAX_TEST_CASES = 1000;
parameter ENABLE_FULL_COVERAGE = 1;  // è¨­ç‚º1å•Ÿç”¨å…¨è¦†è“‹æ¸¬è©¦ï¼Œ0ç‚ºå–®ä¸€æ¸¬è©¦

// æ¸¬è©¦æ¡ˆä¾‹å„²å­˜
reg [48:0] test_dependency_matrix [0:MAX_TEST_CASES-1];
reg [2:0] test_input_sequence [0:MAX_TEST_CASES-1][0:6];    // æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹çš„è¼¸å…¥é †åº
reg [2:0] test_golden_order [0:MAX_TEST_CASES-1][0:6];     // æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹çš„goldenåŸ·è¡Œé †åº
reg [9:0] total_test_cases;  // å¯¦éš›æ¸¬è©¦æ¡ˆä¾‹æ•¸é‡

// æ¸¬è©¦çµæœçµ±è¨ˆ
reg [9:0] passed_tests;
reg [9:0] failed_tests;
reg test_failed;
```

**æ¨¡å¼é¸æ“‡æ©Ÿåˆ¶**ï¼šé€é `ENABLE_FULL_COVERAGE` åƒæ•¸æ§åˆ¶æ¸¬è©¦æ¨¡å¼ï¼Œæä¾›éˆæ´»çš„é©—è­‰ç­–ç•¥ã€‚
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç³»çµ±é©—è­‰ (2/7)

### å–®ä¸€æ¸¬è©¦æ¨¡å¼ï¼ˆå…§å»ºåŸºç¤é©—è­‰ï¼‰

```verilog
else begin
    // å–®ä¸€æ¸¬è©¦æ¨¡å¼ï¼ˆåŸæœ‰åŠŸèƒ½ï¼‰
    $display("===== å–®ä¸€ä¾è³´é—œä¿‚æ¸¬è©¦æ¨¡å¼ =====");
    dependency_matrix = 49'b0000110_0001000_0000100_0000110_0000001_0000001_0000000; // é è¨­ä¾è³´é—œä¿‚
    
    generate_random_sequence();
    
    rst_n = 1'b0; task_req = 1'b0; task_id = 3'd0;
    #10; rst_n = 1'b1; #20;
    
    for (i = 0; i < 7; i = i + 1) begin
        $display("\n***** æ­¥é©Ÿ%0dï¼šè«‹æ±‚ä»»å‹™%c *****", i+1, task_sequence[i] + "a");
        request_task(task_sequence[i]);
        #30;
    end
    
    wait(all_done);
    `$display("æ™‚é–“=%0t - æ‰€æœ‰ä»»å‹™å®Œæˆï¼", $`time);
end
```
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç³»çµ±é©—è­‰ (3/7)

### éš¨æ©Ÿåºåˆ—ç”Ÿæˆ

```verilog
// éš¨æ©Ÿåºåˆ—ç”Ÿæˆ
task generate_random_sequence;
    begin
        // åˆå§‹åŒ–ä»»å‹™åºåˆ—
        for (i = 0; i < 7; i = i + 1) begin
            task_sequence[i] = i;
        end
        
        // Fisher-Yates æ´—ç‰Œç®—æ³•
        for (i = 6; i > 0; i = i - 1) begin
            j = $urandom % (i + 1);
            temp = task_sequence[i];
            task_sequence[i] = task_sequence[j];
            task_sequence[j] = temp;
        end
    end
endtask
```

å–®ä¸€æ¸¬è©¦æ¨¡å¼ä½¿ç”¨é è¨­çš„ä¾è³´é—œä¿‚çŸ©é™£ï¼Œç”Ÿæˆéš¨æ©Ÿä»»å‹™åºåˆ—é€²è¡ŒåŸºæœ¬åŠŸèƒ½é©—è­‰ï¼Œé©åˆé–‹ç™¼éšæ®µçš„å¿«é€Ÿæ¸¬è©¦ã€‚
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç³»çµ±é©—è­‰ (4/7)

### Python å…¨è¦†è“‹æ¸¬è©¦ï¼štest_cases.txt ç”Ÿæˆ

**å¤§è¦æ¨¡æ¸¬è©¦çš„å¿…è¦æ€§**ï¼š

- **ä¾è³´çµæ§‹å–®ä¸€**ï¼šåƒ…ä½¿ç”¨ä¸€ç¨®é è¨­ä¾è³´é—œä¿‚
- **é‚Šç•Œæƒ…æ³ç¼ºå¤±**ï¼šç„¡æ³•æ¸¬è©¦å„ç¨®è¤‡é›œçš„DAGçµæ§‹
- **éš¨æ©Ÿæ€§æœ‰é™**ï¼šFisher-Yatesé›–ç„¶éš¨æ©Ÿï¼Œä½†ç„¡æ³•ä¿è­‰å›°é›£æ¡ˆä¾‹

**Python Golden Test ç”Ÿæˆç­–ç•¥**ï¼š

1. **ç³»çµ±æ€§ä¾è³´çŸ©é™£ç”Ÿæˆ**ï¼šæšèˆ‰å„ç¨®æœ‰æ•ˆDAGçµæ§‹ï¼Œç¢ºä¿ç„¡å¾ªç’°ä¾è³´
2. **æ¥µç«¯è«‹æ±‚åºåˆ—è¨­è¨ˆ**ï¼šåŒ…å«æœ€ä½³é †åºã€é€†åºã€åˆ†æ®µäº‚åºç­‰å£“åŠ›æ¸¬è©¦
3. **ç²¾ç¢ºGolden Answerè¨ˆç®—**ï¼šæ¨¡æ“¬ç¡¬é«”èª¿åº¦å™¨é‚è¼¯ï¼Œè¨ˆç®—æ­£ç¢ºåŸ·è¡Œé †åº
4. **å¤§è¦æ¨¡æ¡ˆä¾‹è¼¸å‡º**ï¼šç”Ÿæˆæ•¸ç™¾è‡³ä¸Šåƒå€‹æ¸¬è©¦æ¡ˆä¾‹åˆ° `test_cases.txt`

### test_cases.txt æª”æ¡ˆæ ¼å¼

```
1000
0000000000000010000001000000011000001000000010000000001000000000000000 0 1 2 3 4 5 6 0 1 2 3 4 5 6
1111111011111101111110111111011111101111110111111001111101111110111111 6 5 4 3 2 1 0 0 1 2 3 4 5 6
0000110000100000010000001100000010000000100000000100000000000000000000 3 1 5 0 6 2 4 0 1 2 3 4 5 6
...ï¼ˆæ›´å¤šæ¸¬è©¦æ¡ˆä¾‹ï¼‰
```
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç³»çµ±é©—è­‰ (5/7)

### æ¸¬è©¦æ¡ˆä¾‹è¼‰å…¥æ©Ÿåˆ¶

```verilog
// è®€å–æ¸¬è©¦æ¡ˆä¾‹æ–‡ä»¶
task load_test_cases;
    integer file, status, case_count;
    reg [7:0] matrix_char;
    integer bit_pos;
    reg [6:0] task_deps;
    begin
        $display("æ­£åœ¨è®€å–æ¸¬è©¦æ¡ˆä¾‹æ–‡ä»¶...");
        
        file = $fopen("test_cases.txt", "r");
        if (file == 0) begin
            $display("éŒ¯èª¤ï¼šç„¡æ³•æ‰“é–‹ test_cases.txt æ–‡ä»¶ï¼");
            $display("è«‹å…ˆé‹è¡Œ Python è…³æœ¬ç”Ÿæˆæ¸¬è©¦æ¡ˆä¾‹ã€‚");
            $finish;
        end
        
        // è®€å–æ¡ˆä¾‹æ•¸é‡
        status = $fscanf(file, "%d", total_test_cases);
        if (total_test_cases > MAX_TEST_CASES) begin
            $display("è­¦å‘Šï¼šæ¸¬è©¦æ¡ˆä¾‹æ•¸é‡ (%0d) è¶…éæœ€å¤§é™åˆ¶ (%0d)ï¼Œå°‡åªæ¸¬è©¦å‰ %0d å€‹æ¡ˆä¾‹",
                    total_test_cases, MAX_TEST_CASES, MAX_TEST_CASES);
            total_test_cases = MAX_TEST_CASES;
        end
```
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç³»çµ±é©—è­‰ (6/7)

### è¼‰å…¥æ©Ÿåˆ¶çºŒï¼šé€å­—å…ƒè®€å–çŸ©é™£

```verilog
        // è®€å–æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹
        for (case_count = 0; case_count < total_test_cases; case_count = case_count + 1) begin
            test_dependency_matrix[case_count] = 49'b0;
            
            // è®€å–49ä½å…ƒä¾è³´é—œä¿‚çŸ©é™£ï¼ˆé€å­—ç¬¦è®€å–ï¼‰
            bit_pos = 0;
            while (bit_pos < 49) begin
                status = $fscanf(file, "%c", matrix_char);
                if (matrix_char == 8'h31) begin        // '1'
                    test_dependency_matrix[case_count][bit_pos] = 1'b1;
                    bit_pos = bit_pos + 1;
                end else if (matrix_char == 8'h30) begin // '0'
                    test_dependency_matrix[case_count][bit_pos] = 1'b0;
                    bit_pos = bit_pos + 1;
                end
            end
            
            // è·³éç©ºæ ¼ä¸¦è®€å–è¼¸å…¥åºåˆ—
            status = $fscanf(file, "%c", matrix_char);  // è·³éç©ºæ ¼
            for (j = 0; j < 7; j = j + 1) begin
                status = $fscanf(file, "%d", test_input_sequence[case_count][j]);
            end
            
            // è®€å–æœŸæœ›åŸ·è¡Œé †åº
            for (j = 0; j < 7; j = j + 1) begin
                status = $fscanf(file, "%d", test_golden_order[case_count][j]);
            end
        end
        
        $fclose(file);
        $display("æ¸¬è©¦æ¡ˆä¾‹è¼‰å…¥å®Œæˆï¼");
    end
endtask
```
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç³»çµ±é©—è­‰ (7/7)

### æ‰¹æ¬¡æ¸¬è©¦åŸ·è¡Œæµç¨‹

```verilog
// åŸ·è¡Œå–®å€‹æ¸¬è©¦æ¡ˆä¾‹
task run_single_test;
    input [9:0] test_case_id;
    begin
        current_test_case = test_case_id;
        exec_count = 0;
        
        // è¨­ç½®ä¾è³´é—œä¿‚çŸ©é™£
        dependency_matrix = test_dependency_matrix[test_case_id];
        
        // ä½¿ç”¨æ–‡ä»¶ä¸­çš„è¼¸å…¥é †åºï¼ˆè€Œä¸æ˜¯éš¨æ©Ÿç”Ÿæˆï¼‰
        for (i = 0; i < 7; i = i + 1) begin
            task_sequence[i] = test_input_sequence[test_case_id][i];
        end
        
        if (test_case_id < 5 || test_case_id % 100 == 0) begin
            $display("\n===== æ¸¬è©¦æ¡ˆä¾‹ %0d =====", test_case_id);
            $display("ä¾è³´é—œä¿‚çŸ©é™£: %49b", test_dependency_matrix[test_case_id]);
            
            $write("è¼¸å…¥è«‹æ±‚é †åº: ");
            for (j = 0; j < 7; j = j + 1) begin
                $write("%c ", task_sequence[j] + "a");
            end
            $display("");
            
            $write("æœŸæœ›åŸ·è¡Œé †åº: ");
            for (j = 0; j < 7; j = j + 1) begin
                $write("%c ", test_golden_order[test_case_id][j] + "a");
            end
            $display("");
        end
        
        // é‡ç½®è™•ç†å™¨ä¸¦åŸ·è¡Œæ¸¬è©¦
        rst_n = 1'b0; task_req = 1'b0; task_id = 3'd0;
        #20; rst_n = 1'b1; #20;
        
        // æŒ‰æŒ‡å®šçš„è¼¸å…¥é †åºè«‹æ±‚æ‰€æœ‰ä»»å‹™
        for (i = 0; i < 7; i = i + 1) begin
            request_task(task_sequence[i]);
            #30;
        end
        
        // ç­‰å¾…æ‰€æœ‰ä»»å‹™å®Œæˆ
        wait(all_done);
        #20;
        
        // æª¢æŸ¥åŸ·è¡Œé †åº
        check_execution_order();
        
        if (test_failed) begin
            failed_tests = failed_tests + 1;
            $display("âŒ æ¸¬è©¦æ¡ˆä¾‹ %0d å¤±æ•—", test_case_id);
        end else begin
            passed_tests = passed_tests + 1;
            if (test_case_id < 5 || test_case_id % 100 == 0) begin
                $display("âœ… æ¸¬è©¦æ¡ˆä¾‹ %0d é€šé", test_case_id);
            end
        end
    end
endtask
```
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç²¾ç¢ºçµæœé©—è­‰æ©Ÿåˆ¶ (1/2)

### åŸ·è¡Œé †åºæª¢æŸ¥

```verilog
// æª¢æŸ¥åŸ·è¡Œé †åºæ˜¯å¦æ­£ç¢º
task check_execution_order;
    begin
        test_failed = 1'b0;
        
        if (exec_count != 7) begin
            $display("éŒ¯èª¤ï¼šåŸ·è¡Œçš„ä»»å‹™æ•¸é‡ä¸æ­£ç¢º (æœŸæœ›:7, å¯¦éš›:%0d)", exec_count);
            test_failed = 1'b1;
            return;
        end
        
        // æ¯”è¼ƒå¯¦éš›åŸ·è¡Œé †åºèˆ‡goldené †åº
        for (i = 0; i < 7; i = i + 1) begin
            if (actual_execution_order[i] !== test_golden_order[current_test_case][i]) begin
                $display("éŒ¯èª¤ï¼šç¬¬%0då€‹ä»»å‹™åŸ·è¡Œé †åºä¸åŒ¹é… (æœŸæœ›:%c, å¯¦éš›:%c)", 
                        i, test_golden_order[current_test_case][i] + "a", actual_execution_order[i] + "a");
                test_failed = 1'b1;
                return;
            end
        end
    end
endtask
```
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## ç²¾ç¢ºçµæœé©—è­‰æ©Ÿåˆ¶ (2/2)

### ä»»å‹™å®Œæˆç›£æ§

```verilog
// ä»»å‹™å®Œæˆç›£æ§ - è¨˜éŒ„å¯¦éš›åŸ·è¡Œé †åº
always @(posedge task_done) begin
    actual_execution_order[exec_count] = current_task;
    exec_count = exec_count + 1;
    
    if (ENABLE_FULL_COVERAGE) begin
        if (current_test_case < 3) begin  // åªå°å‰3å€‹æ¡ˆä¾‹é¡¯ç¤ºè©³ç´°ä¿¡æ¯
            `$display(">>> æ™‚é–“=%0tï¼šä»»å‹™%cåŸ·è¡Œå®Œæˆ (ç¬¬%0då€‹) <<<", $`time, current_task + "a", exec_count);
        end
    end else begin
        `$display(">>> æ™‚é–“=%0tï¼šä»»å‹™%cåŸ·è¡Œå®Œæˆ <<<", $`time, current_task + "a");
    end
end
```

é©—è­‰æ©Ÿåˆ¶é€ä¸€æ¯”å°å¯¦éš›åŸ·è¡Œé †åºèˆ‡ Golden Answerï¼Œç¢ºä¿æ¯å€‹ä½ç½®çš„ä»»å‹™éƒ½å®Œå…¨æ­£ç¢ºã€‚
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## å¤§è¦æ¨¡æ¸¬è©¦åŸ·è¡Œèˆ‡çµ±è¨ˆåˆ†æ (1/2)

### ä¸»æ¸¬è©¦æµç¨‹

```verilog
initial begin
    // åˆå§‹åŒ–
    passed_tests = 0;
    failed_tests = 0;
    current_test_case = 0;
    
    if (ENABLE_FULL_COVERAGE) begin
        $display("===== é–‹å§‹å…¨è¦†è“‹ä¾è³´é—œä¿‚æ¸¬è©¦ =====");
        
        // è¼‰å…¥æ¸¬è©¦æ¡ˆä¾‹
        load_test_cases();
        
        $display("\n===== é–‹å§‹åŸ·è¡Œ %0d å€‹æ¸¬è©¦æ¡ˆä¾‹ =====", total_test_cases);
        
        // åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦æ¡ˆä¾‹
        for (current_test_case = 0; current_test_case < total_test_cases; current_test_case = current_test_case + 1) begin
            run_single_test(current_test_case);
            
            // æ¯100å€‹æ¡ˆä¾‹é¡¯ç¤ºé€²åº¦
            if ((current_test_case + 1) % 100 == 0) begin
                $display("é€²åº¦: %0d/%0d å·²å®Œæˆ (é€šé:%0d, å¤±æ•—:%0d)", 
                        current_test_case + 1, total_test_cases, passed_tests, failed_tests);
            end
        end
        
        // é¡¯ç¤ºæœ€çµ‚çµæœ
        display_final_results();
    end
    
    #50;
    $finish;
end
```
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## å¤§è¦æ¨¡æ¸¬è©¦åŸ·è¡Œèˆ‡çµ±è¨ˆåˆ†æ (2/2)

### è©³ç´°æ¸¬è©¦çµæœå ±å‘Š

```verilog
// é¡¯ç¤ºæœ€çµ‚æ¸¬è©¦çµæœ
task display_final_results;
    real pass_rate;
    begin
        $display("\n============================================================");
        $display("å…¨è¦†è“‹æ¸¬è©¦å®Œæˆï¼");
        $display("============================================================");
        $display("ç¸½æ¸¬è©¦æ¡ˆä¾‹æ•¸: %0d", total_test_cases);
        $display("é€šéæ¡ˆä¾‹æ•¸:   %0d", passed_tests);
        $display("å¤±æ•—æ¡ˆä¾‹æ•¸:   %0d", failed_tests);
        
        if (total_test_cases > 0) begin
            pass_rate = (1.0 * passed_tests) / total_test_cases * 100.0;
            $display("é€šéç‡:       %0.2f%%", pass_rate);
        end
        
        if (failed_tests == 0) begin
            $display("ğŸ‰ æ‰€æœ‰æ¸¬è©¦æ¡ˆä¾‹éƒ½é€šéäº†ï¼ç³»çµ±ä¾è³´é—œä¿‚è™•ç†å®Œå…¨æ­£ç¢ºï¼");
        end else begin
            $display("âš ï¸  æœ‰ %0d å€‹æ¸¬è©¦æ¡ˆä¾‹å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç³»çµ±é‚è¼¯", failed_tests);
        end
        $display("============================================================");
    end
endtask
```

æœ€çµ‚å ±å‘Šæä¾›è©³ç´°çš„çµ±è¨ˆä¿¡æ¯ï¼ŒåŒ…æ‹¬é€šéç‡è¨ˆç®—å’Œå¤±æ•—æ¡ˆä¾‹åˆ†æï¼Œç‚ºç³»çµ±å„ªåŒ–æä¾›æ˜ç¢ºçš„æŒ‡æ¨™ã€‚
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## nWave
<img src="https://hackmd.io/_uploads/r1jq5nQ7gl.png" alt="åœ–ç‰‡" style="object-fit: scale-down">
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

ç³»çµ±ç‹€æ…‹æ©Ÿç·¨ç¢¼ï¼š
0 = SYS_IDLEï¼ˆç©ºé–’ç‹€æ…‹ï¼‰
1 = SYS_SCHEDULEï¼ˆèª¿åº¦ç‹€æ…‹ï¼‰
2 = SYS_EXECUTEï¼ˆåŸ·è¡Œç‹€æ…‹ï¼‰
3 = SYS_COMPLETEï¼ˆå®Œæˆç‹€æ…‹ï¼‰

ä»»å‹™ç‹€æ…‹æ©Ÿç·¨ç¢¼ï¼š
0 = TASK_NONEï¼ˆæœªè«‹æ±‚ç‹€æ…‹ï¼‰
1 = TASK_WAITINGï¼ˆç­‰å¾…ä¾è³´ç‹€æ…‹ï¼‰
2 = TASK_RUNNINGï¼ˆåŸ·è¡Œä¸­ç‹€æ…‹ï¼‰
3 = TASK_DONEï¼ˆå®Œæˆç‹€æ…‹ï¼‰

æ¸¬è©¦åŸ·è¡Œå§‹æ–¼TIME 1169380ï¼Œç³»çµ±æ¥æ”¶åˆ°é‡å°ä»»å‹™Açš„ç¬¬ä¸€å€‹è«‹æ±‚ä¿¡è™Ÿã€‚ç”±æ–¼ä»»å‹™Aåœ¨ä¾è³´é—œä¿‚çŸ©é™£ä¸­ç„¡ä»»ä½•å‰ç½®ä¾è³´ï¼Œhas_executable_taskä¿¡è™Ÿéš¨å³è§¸ç™¼ï¼Œä¿ƒä½¿ç³»çµ±ç‹€æ…‹åœ¨ä¸‹ä¸€æ™‚é˜ä¸Šå‡æ²¿å¾SYS_IDLEç‹€æ…‹è½‰ç§»è‡³SYS_SCHEDULEç‹€æ…‹ï¼Œä¸¦æ–¼å¾ŒçºŒæ™‚é˜é€±æœŸé€²å…¥SYS_EXECUTEç‹€æ…‹ä»¥å•Ÿå‹•ä»»å‹™Açš„åŸ·è¡Œç¨‹åºã€‚ç¶“éé å®šçš„å…©å€‹æ™‚é˜é€±æœŸåŸ·è¡Œæ™‚é–“å¾Œï¼Œä»»å‹™Aå®Œæˆä¸¦æ›´æ–°task_completedä½å‘é‡çš„å°æ‡‰ä½å…ƒï¼ŒåŒæ­¥è§¸ç™¼deps_satisfied_Bä¾è³´æ»¿è¶³ä¿¡è™Ÿï¼Œç‚ºä»»å‹™Bçš„å¾ŒçºŒåŸ·è¡Œç§»é™¤ä¾è³´ç´„æŸæ¢ä»¶ã€‚

ç¬¬äºŒå€‹ä»»å‹™è«‹æ±‚æ–¼TIME 1169660ç™¼å‡ºï¼Œç›®æ¨™ç‚ºä»»å‹™Eã€‚æ­¤éšæ®µå……åˆ†é©—è­‰äº†ç³»çµ±ä¾è³´é˜»å¡æ©Ÿåˆ¶çš„æº–ç¢ºæ€§ã€‚å„˜ç®¡ä»»å‹™Aå·²å®ŒæˆåŸ·è¡Œï¼Œä»»å‹™Eå› ä»éœ€ç­‰å¾…ä»»å‹™Cçš„å®Œæˆè€Œç„¡æ³•æ»¿è¶³å…¶å®Œæ•´çš„ä¾è³´æ¢ä»¶ï¼Œå°è‡´deps_satisfied_Eä¿¡è™Ÿç¶­æŒæœªè§¸ç™¼ç‹€æ…‹ã€‚ç³»çµ±ä¾è³´æª¢æŸ¥é‚è¼¯æ­£ç¢ºè­˜åˆ¥ç•¶å‰ç„¡å¯åŸ·è¡Œä»»å‹™çš„æƒ…æ³ï¼Œç¶­æŒhas_executable_taskç‚ºä½é›»ä½ï¼Œä½¿ç³»çµ±ç‹€æ…‹å¾SYS_SCHEDULEç‹€æ…‹ç›´æ¥å›å¾©è‡³SYS_IDLEç‹€æ…‹ï¼ŒåŒæ™‚ä»»å‹™Eä¿æŒTASK_WAITINGç‹€æ…‹ä»¥ç­‰å¾…ä¾è³´æ¢ä»¶æ»¿è¶³ã€‚
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

ä»»å‹™Bçš„åŸ·è¡Œè«‹æ±‚æ–¼TIME 1169780æäº¤ï¼Œé‘‘æ–¼å…¶å‰ç½®ä¾è³´ä»»å‹™Aå·²å®Œæˆï¼Œç³»çµ±ç«‹å³å•Ÿå‹•ä»»å‹™Bçš„åŸ·è¡Œæµç¨‹ã€‚ç¶“éä¸‰å€‹æ™‚é˜é€±æœŸçš„åŸ·è¡Œéç¨‹ï¼Œä»»å‹™Bå®Œæˆä¸¦è§¸ç™¼deps_satisfied_Gä¿¡è™Ÿï¼Œç‚ºä»»å‹™Gæ¶ˆé™¤ä¾è³´é™åˆ¶ã€‚éœ€æ³¨æ„çš„æ˜¯ï¼Œå„˜ç®¡ä»»å‹™Bå·²å®Œæˆï¼Œä½†ç”±æ–¼ä»»å‹™Eä»è™•æ–¼ç­‰å¾…ç‹€æ…‹ï¼Œall_requested_doneå®Œæˆæª¢æ¸¬ä¿¡è™Ÿä¸¦æœªè§¸ç™¼ï¼Œç³»çµ±ç¶­æŒé‹è¡Œç‹€æ…‹ä»¥è™•ç†å¾ŒçºŒä»»å‹™è«‹æ±‚ã€‚

ä»»å‹™Gçš„è«‹æ±‚æ–¼TIME 1170100æå‡ºï¼Œç³»çµ±é€šéä¾è³´æª¢æŸ¥ç¢ºèªå…¶å‰ç½®æ¢ä»¶å·²æ»¿è¶³ï¼Œéš¨å³é–‹å§‹åŸ·è¡Œæ­¤éœ€æ™‚5å€‹æ™‚é˜é€±æœŸçš„ä»»å‹™ã€‚ä»»å‹™Gå®Œæˆå¾Œï¼Œç³»çµ±ä»æœªè§¸ç™¼all_requested_doneä¿¡è™Ÿï¼ŒåŸå› åœ¨æ–¼ä»»å‹™EæŒçºŒè™•æ–¼ç­‰å¾…åŸ·è¡Œç‹€æ…‹ã€‚
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 700px; width: 960px; min-height: 700px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

ç³»çµ±åŸ·è¡Œçš„é—œéµè½‰æŠ˜é»å‡ºç¾åœ¨TIME 1170550ï¼Œä»»å‹™Cçš„åŸ·è¡Œè«‹æ±‚è¢«æäº¤ã€‚åŸºæ–¼ä»»å‹™Cåœ¨ä¾è³´çŸ©é™£ä¸­ç„¡å‰ç½®ç´„æŸçš„ç‰¹æ€§ï¼Œç³»çµ±ç«‹å³å•Ÿå‹•å…¶åŸ·è¡Œç¨‹åºï¼Œç¶“é4å€‹æ™‚é˜é€±æœŸå¾Œå®Œæˆã€‚åœ¨ä»»å‹™Cå®Œæˆçš„æ™‚åˆ»ï¼ˆTIME 1170780ï¼‰ï¼Œç³»çµ±è§¸ç™¼äº†é¡¯è‘—çš„ä¾è³´è§£é™¤æ©Ÿåˆ¶ï¼šdeps_satisfied_Eä¿¡è™Ÿç«‹å³è§¸ç™¼ï¼ŒåŸå› ç‚ºä»»å‹™Eæ‰€éœ€çš„å…¨éƒ¨ä¾è³´æ¢ä»¶ï¼ˆä»»å‹™Aå’Œä»»å‹™Cï¼‰å‡å·²æ»¿è¶³ã€‚ï¼Œå¾SYS_COMPLETEç‹€æ…‹ç„¡ç¸«è½‰ç§»è‡³SYS_SCHEDULEç‹€æ…‹ï¼Œéš¨å¾Œé€²å…¥SYS_EXECUTEç‹€æ…‹ï¼Œå¯¦ç¾ä»»å‹™Eçš„å³æ™‚åŸ·è¡Œï¼Œæ•´å€‹ç‹€æ…‹è½‰æ›éç¨‹æœªç”¢ç”Ÿä»»ä½•æ™‚é˜é€±æœŸå»¶é²ã€‚

ä»»å‹™EåŸ·è¡Œå®Œç•¢å¾Œï¼Œall_requested_doneä¿¡è™Ÿè¢«è§¸ç™¼ï¼Œæ¨™èªŒè‘—æ‰€æœ‰å·²æäº¤çš„ä»»å‹™è«‹æ±‚å‡å·²å®ŒæˆåŸ·è¡Œï¼Œä¸”ç•¶å‰ç„¡å¾…è™•ç†ä»»å‹™å­˜åœ¨æ–¼ç³»çµ±ä½‡åˆ—ä¸­ã€‚ç³»çµ±ç‹€æ…‹å›æ­¸SYS_IDLEç‹€æ…‹ï¼Œè¡¨æ˜ç³»çµ±å·²æº–å‚™å°±ç·’ä»¥æ¥æ”¶æ–°çš„ä»»å‹™è«‹æ±‚ã€‚å¾ŒçºŒæäº¤çš„ä»»å‹™Få’Œä»»å‹™Dè«‹æ±‚å‡èƒ½ç«‹å³åŸ·è¡Œï¼Œæ­¤ä¹ƒå› å…¶æ‰€éœ€çš„å‰ç½®ä¾è³´æ¢ä»¶åœ¨å…ˆå‰ä»»å‹™çš„åŸ·è¡Œéç¨‹ä¸­å·²å¾—åˆ°å……åˆ†æ»¿è¶³ã€‚
</div></script></section></div>
    </div>

    <script src="dist/reveal.js"></script>

    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script src="plugin/zoom/zoom.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/math/math.js"></script>
	<script src="plugin/mermaid/mermaid.js"></script>
	<script src="plugin/chart/chart.min.js"></script>
	<script src="plugin/chart/plugin.js"></script>
	<script src="plugin/menu/menu.js"></script>
	<script src="plugin/customcontrols/plugin.js"></script>

    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

	  function isLight(color) {
		let hex = color.replace('#', '');

		// convert #fff => #ffffff
		if(hex.length == 3){
			hex = `${hex[0]}${hex[0]}${hex[1]}${hex[1]}${hex[2]}${hex[2]}`;
		}

		const c_r = parseInt(hex.substr(0, 2), 16);
		const c_g = parseInt(hex.substr(2, 2), 16);
		const c_b = parseInt(hex.substr(4, 2), 16);
		const brightness = ((c_r * 299) + (c_g * 587) + (c_b * 114)) / 1000;
		return brightness > 155;
	}

	var bgColor = getComputedStyle(document.documentElement).getPropertyValue('--r-background-color').trim();
	var isLight = isLight(bgColor);

	if(isLight){
		document.body.classList.add('has-light-background');
	} else {
		document.body.classList.add('has-dark-background');
	}

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealZoom,
          RevealNotes,
          RevealMath.MathJax3,
		  RevealMermaid,
		  RevealChart,
		  RevealCustomControls,
		  RevealMenu,
        ],


    	allottedTime: 120 * 1000,

		mathjax3: {
			mathjax: 'plugin/math/mathjax/tex-mml-chtml.js',
		},
		markdown: {
		  gfm: true,
		  mangle: true,
		  pedantic: false,
		  smartLists: false,
		  smartypants: false,
		},

		mermaid: {
			theme: isLight ? 'default' : 'dark',
		},

		customcontrols: {
			controls: [
			]
		},
		menu: {
			loadIcons: false
		}
      };

      // options from URL query string
      var queryOptions = Reveal().getQueryHash() || {};

      var options = extend(defaultOptions, {"width":960,"height":700,"margin":0.04,"controls":true,"progress":true,"slideNumber":true,"transition":"slide","transitionSpeed":"default"}, queryOptions);
    </script>

    <script>
      Reveal.initialize(options);
    </script>
  </body>

  <!-- created with Advanced Slides -->
</html>
